I"œ<p>Recently, I wanted to play with the popular â€˜muâ€™ tool for indexing my mails. Started with Matthiasâ€™ <a href="https://frosch03.de/blog/2016/05/mu4e-within-cygwin.html">mu-on-cygwin</a> blog. Interestingly, even after following the steps he mentions there, I was welcomed with the below error!</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  CXX      utils.lo
utils.cc: In <span class="k">function</span> â€˜std::string Mux::format<span class="o">(</span>const char<span class="k">*</span>, ...<span class="o">)</span>â€™:
utils.cc:187:44: error: â€˜vasprintfâ€™ was not declared <span class="k">in </span>this scope
   const auto res <span class="o">=</span> vasprintf <span class="o">(</span>&amp;s, frm, args<span class="o">)</span><span class="p">;</span>
                                            ^
utils.cc: In <span class="k">function</span> â€˜std::string Mux::date_to_time_t_string<span class="o">(</span>const string&amp;, bool<span class="o">)</span>â€™:
utils.cc:313:52: error: â€˜strptimeâ€™ was not declared <span class="k">in </span>this scope
  <span class="k">if</span> <span class="o">(!</span>strptime <span class="o">(</span>date.c_str<span class="o">()</span>, <span class="s2">"%Y%m%d%H%M%S"</span>, &amp;tbuf<span class="o">)</span> <span class="o">&amp;&amp;</span>
                                                    ^
make[3]: <span class="k">***</span> <span class="o">[</span>Makefile:749: utils.lo] Error 1</code></pre></figure>

<p>I had to do the following hack in order to get this working on my cygwin-env. (assuming youâ€™re already inside â€˜muâ€™)</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">cd </span>lib/parser
<span class="nv">$ </span><span class="nb">sed</span> <span class="nt">-e</span> <span class="s1">'s/^#define GNU_SOURCE/#define _GNU_SOURCE/'</span> utils.cc  <span class="o">&gt;</span> tmp
<span class="nv">$ </span><span class="nb">mv </span>tmp utils.cc </code></pre></figure>

<p>After this, the compilation and installation happened without any errors. Hope this helps others, in case they get stuck with the same error.</p>
:ET